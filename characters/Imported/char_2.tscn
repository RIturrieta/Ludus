[gd_scene load_steps=12 format=3 uid="uid://31ralsek04o4"]

[ext_resource type="PackedScene" uid="uid://dk4ytipotiqga" path="res://resources/meshes/char2.glb" id="1_kclxa"]
[ext_resource type="ArrayMesh" uid="uid://rpmjsbbqg26u" path="res://resources/meshes/Cloak.tres" id="2_dbxly"]
[ext_resource type="PackedScene" uid="uid://7usrk0iq3u7o" path="res://characters/Imported/bow.tscn" id="2_jvoeo"]
[ext_resource type="ArrayMesh" uid="uid://cn5fsth73iypw" path="res://resources/meshes/HalfCape.tres" id="3_4n425"]
[ext_resource type="ArrayMesh" uid="uid://gl0fg2p811jk" path="res://resources/meshes/cloak.obj" id="4_vjxau"]
[ext_resource type="ArrayMesh" uid="uid://20pg2npbcerp" path="res://resources/meshes/halfcape.obj" id="5_tkid5"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_j88sg"]
animation = &"Idle"

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_uawbp"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_rorc4"]
animation = &"Walk"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_6gr83"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_gjn87"]
graph_offset = Vector2(-582.058, 116.256)
nodes/Idle/node = SubResource("AnimationNodeAnimation_j88sg")
nodes/Idle/position = Vector2(-260, 120)
nodes/IdleWalkBlend/node = SubResource("AnimationNodeBlend2_uawbp")
nodes/IdleWalkBlend/position = Vector2(-39.7515, 209.585)
nodes/Walk/node = SubResource("AnimationNodeAnimation_rorc4")
nodes/Walk/position = Vector2(-480, 240)
nodes/WalkMul/node = SubResource("AnimationNodeTimeScale_6gr83")
nodes/WalkMul/position = Vector2(-340, 280)
node_connections = [&"IdleWalkBlend", 0, &"Idle", &"IdleWalkBlend", 1, &"WalkMul", &"WalkMul", 0, &"Walk", &"output", 0, &"IdleWalkBlend"]

[node name="char2" instance=ExtResource("1_kclxa")]

[node name="Cloak" parent="." index="0"]
visible = false
mesh = ExtResource("2_dbxly")

[node name="Cape" parent="." index="1"]
visible = false
mesh = ExtResource("3_4n425")

[node name="Armature" parent="." index="2"]
transform = Transform3D(-6.95143e-09, 0, 0.15903, 0, 0.15903, 0, -0.15903, 0, -6.95143e-09, 0, 1.41, 0)

[node name="Skeleton3D" parent="Armature" index="0"]
bones/0/position = Vector3(0.0307652, -0.951079, -1.18751e-07)
bones/0/rotation = Quaternion(2.0068e-08, 1.01271e-07, -0.334718, 0.942318)
bones/1/rotation = Quaternion(-4.61533e-05, -1.87813e-05, -6.79642e-05, 1)
bones/3/rotation = Quaternion(0.0999803, -0.232999, -0.133792, 0.958027)
bones/4/rotation = Quaternion(-0.128619, 0.224926, 0.158241, 0.952799)
bones/5/rotation = Quaternion(-0.857493, -2.53747e-08, 4.22912e-08, 0.514496)
bones/7/rotation = Quaternion(-0.0186848, 0.124996, -0.30103, 0.945203)
bones/8/rotation = Quaternion(0.741503, 0.496663, -0.405203, 0.198268)
bones/11/rotation = Quaternion(-0.00560215, 0.0366925, -0.00753271, 0.999283)
bones/12/rotation = Quaternion(0.704521, -0.388631, 0.590114, 0.0661972)
bones/13/position = Vector3(-6.98525, -5.1485, -1.53453)
bones/13/rotation = Quaternion(-0.414121, -0.573172, -0.438933, 0.55436)
bones/14/rotation = Quaternion(-0.653171, 0.270906, -0.640582, 0.299385)
bones/15/position = Vector3(1.23243, -8.67567, 1.56016)
bones/15/rotation = Quaternion(-0.126399, -0.695702, -0.0956532, 0.700623)
bones/16/rotation = Quaternion(-0.458216, -0.538573, 0.434042, 0.558198)

[node name="Head" type="BoneAttachment3D" parent="Armature/Skeleton3D" index="1"]
transform = Transform3D(0.79658, 0.603526, 0.0348712, -0.604464, 0.794292, 0.0610169, 0.00912744, -0.0696832, 0.997527, 2.94832, 2.26052, 0.287096)
bone_name = "Bone.004"
bone_idx = 4

[node name="Cloak" type="SoftBody3D" parent="Armature/Skeleton3D/Head" index="0"]
transform = Transform3D(7, -5.06639e-07, -2.27374e-13, 5.06639e-07, 7, 1.03029e-13, 4.54747e-13, 1.77636e-14, 7, -0.127189, -14.7685, 3.09948e-08)
mesh = ExtResource("4_vjxau")
skeleton = NodePath("../../Back/Cape")
total_mass = 10.01
linear_stiffness = 1.0
damping_coefficient = 0.07
pinned_points = [600, 452, 132, 596, 448, 128, 696, 428, 228, 692, 424, 224, 854, 349, 389, 850, 353, 385]
attachments/0/point_index = 600
attachments/0/spatial_attachment_path = NodePath("..")
attachments/0/offset = Vector3(-0.0142873, 2.29747, -0.14609)
attachments/1/point_index = 452
attachments/1/spatial_attachment_path = NodePath("..")
attachments/1/offset = Vector3(-0.0143713, 2.33158, -0.000630083)
attachments/2/point_index = 132
attachments/2/spatial_attachment_path = NodePath("..")
attachments/2/offset = Vector3(-0.0144553, 2.29747, 0.144837)
attachments/3/point_index = 596
attachments/3/spatial_attachment_path = NodePath("..")
attachments/3/offset = Vector3(-0.401478, 2.36343, -0.134638)
attachments/4/point_index = 448
attachments/4/spatial_attachment_path = NodePath("..")
attachments/4/offset = Vector3(-0.401555, 2.39832, -0.000854082)
attachments/5/point_index = 128
attachments/5/spatial_attachment_path = NodePath("..")
attachments/5/offset = Vector3(-0.401632, 2.36343, 0.13293)
attachments/6/point_index = 696
attachments/6/spatial_attachment_path = NodePath("..")
attachments/6/offset = Vector3(-0.401415, 2.4805, -0.246043)
attachments/7/point_index = 428
attachments/7/spatial_attachment_path = NodePath("..")
attachments/7/offset = Vector3(-0.401555, 2.62542, -0.000854082)
attachments/8/point_index = 228
attachments/8/spatial_attachment_path = NodePath("..")
attachments/8/offset = Vector3(-0.401702, 2.4805, 0.244335)
attachments/9/point_index = 692
attachments/9/spatial_attachment_path = NodePath("..")
attachments/9/offset = Vector3(-0.0142243, 2.41192, -0.255003)
attachments/10/point_index = 424
attachments/10/spatial_attachment_path = NodePath("..")
attachments/10/offset = Vector3(-0.0143713, 2.5536, -0.000630083)
attachments/11/point_index = 224
attachments/11/spatial_attachment_path = NodePath("..")
attachments/11/offset = Vector3(-0.0145183, 2.41192, 0.25375)
attachments/12/point_index = 854
attachments/12/spatial_attachment_path = NodePath("..")
attachments/12/offset = Vector3(-0.401464, 0.0994253, -0.162456)
attachments/13/point_index = 349
attachments/13/spatial_attachment_path = NodePath("..")
attachments/13/offset = Vector3(-0.401555, 0.0994253, -0.000854087)
attachments/14/point_index = 389
attachments/14/spatial_attachment_path = NodePath("..")
attachments/14/offset = Vector3(-0.401653, 0.0994253, 0.160748)
attachments/15/point_index = 850
attachments/15/spatial_attachment_path = NodePath("..")
attachments/15/offset = Vector3(-0.0142661, 0.0840883, -0.173292)
attachments/16/point_index = 353
attachments/16/spatial_attachment_path = NodePath("..")
attachments/16/offset = Vector3(-0.0143712, 0.0840883, -0.000630088)
attachments/17/point_index = 385
attachments/17/spatial_attachment_path = NodePath("..")
attachments/17/offset = Vector3(-0.0144692, 0.0840883, 0.172032)

[node name="Back" type="BoneAttachment3D" parent="Armature/Skeleton3D" index="2"]
transform = Transform3D(0.472704, 0.758476, -0.448624, -0.774832, 0.600234, 0.198377, 0.419745, 0.253835, 0.871425, 2.08983, 1.58114, -0.000209167)
bone_name = "Bone.003"
bone_idx = 3

[node name="Cape" type="SoftBody3D" parent="Armature/Skeleton3D/Back" index="0"]
transform = Transform3D(7, -2.68221e-07, -3.97904e-13, 2.68221e-07, 7, 7.81597e-14, 1.13687e-13, -3.55271e-15, 7, -0.154883, -13.6584, 2.73682e-08)
mesh = ExtResource("5_tkid5")
total_mass = 10.01
linear_stiffness = 1.0
damping_coefficient = 0.07
pinned_points = [2, 50, 54, 37, 36, 0, 33, 55, 49, 40]
attachments/0/point_index = 2
attachments/0/spatial_attachment_path = NodePath("..")
attachments/0/offset = Vector3(-0.884906, 1.12024, -0.0452897)
attachments/1/point_index = 50
attachments/1/spatial_attachment_path = NodePath("..")
attachments/1/offset = Vector3(-0.893122, 1.06717, -0.383811)
attachments/2/point_index = 54
attachments/2/spatial_attachment_path = NodePath("..")
attachments/2/offset = Vector3(-0.901338, 1.01409, -0.722333)
attachments/3/point_index = 37
attachments/3/spatial_attachment_path = NodePath("..")
attachments/3/offset = Vector3(-0.909541, 0.961012, -1.06085)
attachments/4/point_index = 36
attachments/4/spatial_attachment_path = NodePath("..")
attachments/4/offset = Vector3(-0.917757, 0.907934, -1.39938)
attachments/5/point_index = 0
attachments/5/spatial_attachment_path = NodePath("..")
attachments/5/offset = Vector3(-1.52586, 0.571031, -0.100066)
attachments/6/point_index = 33
attachments/6/spatial_attachment_path = NodePath("..")
attachments/6/offset = Vector3(-1.04859, 1.17872, -0.397102)
attachments/7/point_index = 55
attachments/7/spatial_attachment_path = NodePath("..")
attachments/7/offset = Vector3(-1.05459, 1.12414, -0.735429)
attachments/8/point_index = 49
attachments/8/spatial_attachment_path = NodePath("..")
attachments/8/offset = Vector3(-1.0606, 1.06941, -1.07376)
attachments/9/point_index = 40
attachments/9/spatial_attachment_path = NodePath("..")
attachments/9/offset = Vector3(-1.06661, 1.01484, -1.41209)

[node name="LHand" type="BoneAttachment3D" parent="Armature/Skeleton3D" index="3"]
transform = Transform3D(-0.66335, 0.0195295, -0.748054, -0.748298, -0.011986, 0.663254, 0.0039867, 0.999737, 0.0225649, 3.26189, -0.634181, -2.279)
bone_name = "Bone.008_L"
bone_idx = 8

[node name="bow" parent="Armature/Skeleton3D/LHand" index="0" instance=ExtResource("2_jvoeo")]
transform = Transform3D(-3.97027, -3.44308, -3.45292, -3.2548, 5.18682, -1.42957, 3.63094, 0.884652, -5.0571, -0.0368111, 2.66266, -0.132379)
rotation_edit_mode = 1

[node name="Skeleton3D" parent="Armature/Skeleton3D/LHand/bow/Bow" index="0"]
bones/2/rotation = Quaternion(0.153345, -0.0109603, -0.0205589, 0.987898)
bones/3/rotation = Quaternion(-0.163779, -0.0122015, -0.0133724, 0.986331)
bones/4/rotation = Quaternion(-0.294032, -0.00770092, -0.00951674, 0.955717)
bones/5/rotation = Quaternion(-0.154235, 0.0219519, 0.0942169, 0.983287)
bones/6/rotation = Quaternion(0.122491, 0.000428072, -0.00202287, 0.992468)
bones/7/rotation = Quaternion(0.109707, 8.86107e-05, -0.000794351, 0.993964)
bones/10/rotation = Quaternion(0.149407, -1.48263e-14, -3.56214e-08, 0.988776)
bones/11/rotation = Quaternion(0.266705, -1.27843e-14, -6.35875e-08, 0.963778)
bones/12/rotation = Quaternion(0.206897, -1.02672e-14, -4.93281e-08, 0.978363)
bones/13/rotation = Quaternion(-0.126058, -1.35028e-15, 3.00546e-08, 0.992023)
bones/14/rotation = Quaternion(-0.108244, 1.54449e-14, 2.58074e-08, 0.994124)
bones/15/position = Vector3(-2.91022e-18, -0.539734, 8.44214e-35)
bones/16/position = Vector3(-6.22474e-16, -0.535481, 2.59729)
bones/17/position = Vector3(-9.23848e-16, -0.535481, -2.59729)
bones/18/position = Vector3(0.0685885, -1.03484, 0.896159)
bones/18/rotation = Quaternion(-0.309595, -0.258735, 0.226437, 0.886529)

[node name="BowMesh" parent="Armature/Skeleton3D/LHand/bow/Bow/Skeleton3D" index="0"]
transform = Transform3D(1, 2.98023e-08, -6.98492e-10, 0, 1, 1.39698e-09, -2.32831e-10, -4.65661e-10, 1, 0, 0, 0)

[node name="HealthMarker" type="Marker3D" parent="." index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.84663, 0)

[node name="AnimationTree" type="AnimationTree" parent="." index="5"]
tree_root = SubResource("AnimationNodeBlendTree_gjn87")
anim_player = NodePath("../AnimationPlayer")
parameters/IdleWalkBlend/blend_amount = 1.0
parameters/WalkMul/scale = 1.0

[editable path="Armature/Skeleton3D/LHand/bow"]
